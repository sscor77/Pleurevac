<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Diferencias y Porcentajes</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    input { margin: 5px 0; display: block; }
    .resultado { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Calculadora de diferencias y porcentajes</h1>

  <form id="formulario">
    <label>Valor 1: <input type="number" id="valor1"></label>
    <label>Valor 2: <input type="number" id="valor2"></label>
    <label>Valor 3: <input type="number" id="valor3"></label>
    <label>Valor 4: <input type="number" id="valor4"></label>
    <label>Valor 5: <input type="number" id="valor5"></label>
    <label>Valor 6: <input type="number" id="valor6"></label>
    <button type="submit">Calcular</button>
  </form>

  <button id="limpiar">Limpiar datos</button>

  <div class="resultado" id="resultado"></div>

  <script>
    const campos = ["valor1", "valor2", "valor3", "valor4", "valor5", "valor6"];

    // Cargar valores guardados
    window.onload = function () {
      campos.forEach(id => {
        const valorGuardado = localStorage.getItem(id);
        if (valorGuardado !== null) {
          document.getElementById(id).value = valorGuardado;
        }
      });
    };

    // Guardar y calcular
    document.getElementById('formulario').addEventListener('submit', function(e) {
      e.preventDefault();
      const valores = [];
      campos.forEach(id => {
        const val = parseFloat(document.getElementById(id).value);
        if (!isNaN(val)) {
          valores.push(val);
          localStorage.setItem(id, val);
        }
      });

      let output = '';
      for (let i = 1; i < valores.length; i++) {
        const dif = valores[i] - valores[i - 1];
        const porcentaje = ((dif / valores[i - 1]) * 100).toFixed(2);
        output += `<p>Día ${i + 1} vs Día ${i}: Diferencia = ${dif}, Porcentaje = ${porcentaje}%</p>`;
      }

      document.getElementById('resultado').innerHTML = output;
    });

    // Botón para limpiar los datos guardados
    document.getElementById('limpiar').addEventListener('click', function() {
      campos.forEach(id => localStorage.removeItem(id));
      location.reload();
    });
  </script>
</body>
</html>
